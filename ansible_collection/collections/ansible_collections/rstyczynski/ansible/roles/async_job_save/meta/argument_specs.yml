---
argument_specs:
  main:
    short_description: Save async job metadata by name for idempotent retrieval

    options:
      # INPUTS
      async_job_save_job_name:
        description: "Unique name for this job (used as identifier)"
        type: str
        required: true

      async_job_save_ansible_job_id:
        description: "Ansible job ID from async task (from register variable)"
        type: str
        required: true

      async_job_save_host:
        description: "Target host where async task is running"
        type: str
        required: true

      async_job_save_state_dir:
        description: "Directory to store job state files"
        type: str
        default: ".ansible_async_state"

      async_job_save_metadata:
        description: "Optional metadata dictionary for job tagging"
        type: dict
        required: false
        default: {}

      # OUTPUTS
      async_job_save_state_file:
        description: "[OUTPUT] Full path to job state file"
        type: str
        required: false
